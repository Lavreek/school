{% extends 'base.html.twig' %}

{% block title %}{{ templates['title'] }}{% endblock %}

{% block body %}
    <form id="{{ templates['form_class'] }}-create" style="margin: auto;">
        <div class="mb-3">
            <label for="_title" class="form-label">Создание ресурса "{{ templates['title'] }}"</label>

            {% if form_params['special_select'] is defined %}
                <div style="margin-bottom: 1em;">
                    <label for="_special_select" class="form-label">Специализация</label>
                    <select class="form-select" id="_special_select" name="_special_select">
                        <option selected disabled value="">Выберите...</option>

                        {% for i in form_params['special_select'] %}
                            <option value="{{ i.getId() }}">{{ i.getTitle() }} </option>
                        {% endfor %}

                    </select>
                </div>
            {% endif %}

            {% if form_params['faculty_select'] is defined %}
                <div style="margin-bottom: 1em;">
                    <label for="_faculty_select" class="form-label">Факультеты</label>
                    <select class="form-select" id="_faculty_select" name="_faculty_select">
                        <option selected disabled value="">Выберите...</option>

                        {% for i in form_params['faculty_select'] %}
                            <option value="{{ i.getId() }}">{{ i.getTitle() }} </option>
                        {% endfor %}

                    </select>
                </div>
            {% endif %}

            {% if form_params['course_select'] is defined %}
                <div style="margin-bottom: 1em;">
                    <label for="_course_select" class="form-label">Факультеты</label>
                    <select class="form-select" id="_course_select" name="_course_select">
                        <option selected disabled value="">Выберите...</option>

                        {% for i in form_params['course_select'] %}
                            <option value="{{ i.getId() }}">{{ i.getTitle() }} </option>
                        {% endfor %}

                    </select>
                </div>
            {% endif %}

            {% if form_params['title'] is defined %}
                <div>
                    <label for="_title" class="form-label">Название</label>
                    <input type="text" class="form-control" name="_title" id="_title" value="{{ form_params['title'] }}" aria-describedby="titleHelp">
                </div>
            {% elseif form_params['title'] == "" %}
                <div>
                    <label for="_title" class="form-label">Название</label>
                    <input type="text" class="form-control" name="_title" id="_title" aria-describedby="titleHelp">
                </div>
            {% endif %}

            {% if form_params['id'] is defined %}
                <input type="hidden" class="form-control" name="_id" id="_id" value="{{ form_params['id'] }}" aria-describedby="idHelp">
            {% else %}
                <input type="hidden" class="form-control" name="_id" id="_id" aria-describedby="idHelp">
            {% endif %}

            {% if get_user_id() is not null %}
                <input type="hidden" name="_user_id" value="{{ get_user_id() }}">
            {% endif %}
        </div>
        <div class="text-center">
            <button type="button" class="btn btn-primary {{ templates['form_class'] }}-button-create">Создать</button>
        </div>
        <div class="messages-collapse collapse" id="messages-collapse">
            <div class="display-messages py-4"></div>
        </div>
    </form>
{% endblock %}
